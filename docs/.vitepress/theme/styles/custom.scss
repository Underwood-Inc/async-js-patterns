@use 'sass:color';
@use './variables' as *;

:root {
  // Light theme colors
  --vp-c-bg: #{$purple-light};
  --vp-c-bg-alt: #{color.adjust($purple-light, $lightness: -5%)};
  --vp-c-bg-soft: #{color.adjust($purple-light, $lightness: -2%)};
  --vp-c-text: #{color.adjust($purple-dark, $lightness: -10%)};
  --vp-c-brand: #{$purple-brand};
  --vp-c-brand-light: #{$purple-brand-light};
  --vp-c-brand-dark: #{$purple-brand-dark};
  --vp-sidebar-width: 280px;
  --scrollbar-color: #{rgba($purple-brand, 0.2)};
  --scrollbar-thumb-color: #{rgba($purple-brand, 0.3)};

  // Theme colors
  --vp-c-default-1: var(--vp-c-gray-1);
  --vp-c-default-2: var(--vp-c-gray-2);
  --vp-c-default-3: var(--vp-c-gray-3);
  --vp-c-default-soft: var(--vp-c-gray-soft);

  --vp-c-brand-1: var(--vp-c-indigo-1);
  --vp-c-brand-2: var(--vp-c-indigo-2);
  --vp-c-brand-3: var(--vp-c-indigo-3);
  --vp-c-brand-soft: var(--vp-c-indigo-soft);

  // Remove code block colors from here
  --vp-code-block-border: #{$purple-brand};

  // Light theme scrollbar
  --scrollbar-track: var(--vp-c-bg-alt);
  --scrollbar-thumb: var(--vp-c-brand-light);
  --scrollbar-thumb-hover: var(--vp-c-brand);
  --scrollbar-width: 12px;
  --scrollbar-height: 12px;
}

.dark {
  // Dark theme colors
  --vp-c-bg: #{$purple-dark};
  --vp-c-bg-alt: #{color.adjust($purple-dark, $lightness: 5%)};
  --vp-c-bg-soft: #{color.adjust($purple-dark, $lightness: 2%)};
  --vp-c-text: #{color.adjust($purple-light, $lightness: 10%)};

  // Remove code block colors from here
  --vp-code-block-bg: #1a1a2e;
  --vp-code-block-border: #{color.adjust($purple-brand, $lightness: -10%)};
  --vp-code-line-highlight-color: #2d2b55;
  --vp-code-line-number-color: #5b5b8a;
  --vp-code-line-color: #2d2b55;

  // Dark theme scrollbar
  --scrollbar-track: var(--vp-c-bg-alt);
  --scrollbar-thumb: var(--vp-c-brand-dark);
  --scrollbar-thumb-hover: var(--vp-c-brand);
}

// Remove this block
div[class*='language-'] {
  border: 1px solid var(--vp-code-block-border);
}

// Firefox
* {
  scrollbar-width: thin;
  scrollbar-color: var(--scrollbar-thumb-color) var(--scrollbar-color);
}

/* Scrollbars - Webkit (Chrome, Safari, newer Edge) */
::-webkit-scrollbar {
  width: var(--space-sm);
  height: var(--space-sm);
  cursor: default;
}

::-webkit-scrollbar-track {
  background: var(--scrollbar-color);
  border-radius: var(--radius-sm);
  cursor: default;
}

::-webkit-scrollbar-thumb {
  background: var(--scrollbar-thumb-color);
  border-radius: var(--radius-sm);
  cursor: default;

  &:hover {
    background: rgba(157, 140, 214, 0.5);
    cursor: grab;
  }

  &:active {
    cursor: grabbing;
    background: rgba(157, 140, 214, 0.7);
  }
}

/* Edge Legacy support */
::-ms-scrollbar {
  width: var(--space-sm);
  height: var(--space-sm);
  cursor: default;
}

::-ms-scrollbar-track {
  background: var(--scrollbar-color);
  border-radius: var(--radius-sm);
  cursor: default;
}

::-ms-scrollbar-thumb {
  background: var(--scrollbar-thumb-color);
  border-radius: var(--radius-sm);
  cursor: default;

  &:hover {
    background: rgba(157, 140, 214, 0.5);
    cursor: grab;
  }

  &:active {
    cursor: grabbing;
    background: rgba(157, 140, 214, 0.7);
  }
}

/* Reset any inherited cursors */
html,
body {
  cursor: default;
}

// For iOS momentum scrolling
* {
  -webkit-overflow-scrolling: touch;
}
